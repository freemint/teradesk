Tera Desktop. Copyright 1991, 1992, 1993, 1994, 1995  W. Klaren.
                                          2002, 2003  H. Robbers.
                                    2002, 2003, 2004  Dj. Vukovic.


Version 3.30
------------

- Added special use flag for external viewer.

- Fixed a bug which sometimes caused copying from one disk to another
  when icons were moved on the desktop.

- Path of the symbolic link is appended if the link contains only the name
  of the referenced object, without a path to it.

- Fixed some bugs related to AV-protocol.

- Fixed a bug in finding next or previous windows.

- Some code optimisation.


Version 3.22 (never published, except for testing)
------------------------------

- Improved memory allocation system used (new version of AHCM), for
  better handling of large blocks.

- Fixed some bugs mostly related to local environment, AV-protocol
  and handling of symbolic links.

- Better handling of iconified windows.


Version 3.21 (never published, except for testing)
--------------------------------------------------

- Drag & drop protocol repaired (TeraDesk acts as a sender only).

- Restore-mode copying enabled by [RShift] (overwrite newer files only).

- Updated and rearranged dialogs with help on keyboard commands.


Version 3.20 (or 3.2; never published, except for testing)
----------------------------------------------------------

- Even more (almost all) AV-protocol messages supported.

- Update-mode copying enabled by [LShift] (overwrite older files only).

- Somewhat better handling of symbolic links.


Version 3.10 (or 3.1; never published, except for testing)
----------------------------------------------------------

- More general flagging of installed application for speciual use(s); new 
  (sub)dialog created; can mark several roles for special apps; a mechanism 
  created to mark them for some other functions as well, if need appears.

- As a result of the above, editor-specific functions are not needed 
  anymore; edit.c and edit.h files removed from the project.

- Added window duplicate function.

- Moved window-related menu items under a new menu title "Window".

- Much larger subset of AV-protocol messages handled; TeraDesk is now
  a passable AV-server.

- Repaired the system-wide font selector callable via FONT protocol (e.g. 
  from ST-Guide, Multistrip, etc.) (this was inherited from previous 
  version but in fact did not work well).

- Repaired handling of ARGV protocol in Mint and Magic. 

- Repaired Info... of the topped directory window; info on a file in the 
  topped text window can be shown as well. 
  
- Local per-installed-application environment.

- Symbolic links can be created, edited, deleted, copied...

- More logical interpretation of links when "opening" items: real item 
  names are checked for, and real file names passed as parameters.

- With dialogs are in window mode, added a closer widget which acts the 
  same as Cancel button.

- Removed "normal" dialog mode.

- Removed startup batch file capability from the project; batch.c and 
  batch.h files removed from the project.

- Some small improvements in shutdown procedure. Also, if mint is detected, 
  "Shutdown(2)" is activated at the very end, causing system restart.

- Some small improvements in video options dialog.

- New command line variable: beside %f and %n, added %p (path).


Version 3.02 (never published)
------------------------------

- Source code cleanup; removed remains of support for the binary 
  configuration file; removed disabled old code for directory handling.

- Fixed a bug in left/right scrolling of text windows

- Fixed some errors in desktop.rsc

- More consistent application of string sizes for long names and commands
  (still not quite systematically applied).


Version 3.01
------------

- Restored full functionality of the name-conflict dialog.

- Repaired a bug in cookie finding routine (inherited from V2.*) which 
  could sometimes make TeraDesk practically unusable if the cookie jar did 
  not exist.

- Better fix for a TOS 2.06 bug related to ignoring the first mouse click 
  after execution of a GEM program if no windows were open.

- Fixed a bug which disabled seting of configuration file name in the 
  startup .BAT file (btw. should startup file feature be considered 
  obsolete- does not seem to be of much use anymore?)

- Fixed bad window redraw in icon mode with XaAES.

- Fixed bad redraw in font-selector listbox with XaAES. (these two were 
  probably faults of XaAES (V0.963), not TeraDesk)

- Correctly rebuilt the binary (previous version was linked wih a wrong 
  binary module; could cause a crash under memory protection).

- Set exit with "OK" from "Video options..." to always redraw complete 
  desktop, as a help to recover after screen corruption.

- Some code size optimizations.

- Some improvements and additions in TERADESK.HYP


Version 3.0
-----------

H. Robbers:

- Configuration data now in text mode. Easy to keep compatability. Name of 
  textmode confguration file is TERADESK.INF.

- Program cfg2inf.prg for converting the binary cfg to the textmode inf.

- Colour palette is saved in a separate file TERADESK.PAL.

- Replaced use of Malloc (Gemdos) to standard malloc. (replace all x_alloc 
  by malloc and x_free by free, except 2 that were used for interrogation) 
  This reduces memory fragmentation on the Gemdos level considerably, 
  especially important in multitasking environments.

- Replaced Wout's mememory allocator by mine (AHCM). AHCM allows memory 
  leak detection and reduces fragmentation even more by always allocating 
  Gemdos blocks in whole multiples of chunk size.

- As a result of the above it wasn't possible anymore to shrink the start 
  amount of 2000 directory entry structures (68 Kb). So I implemented a 
  pointer array instead. It starts with 256 entries (1 Kb) and is mildly 
  exponentially expanded when needed. The amount of memory used by the 
  pointer array is so low that shrinking isn't vital anymore. The amount 
  of entry structures never exceeds the actual amount present in the 
  directory. (A slight but nice advantage is that sorting now takes place 
  on the pointer array which only needs swapping around of 4 instead of 34 
  bytes. :-)

- Removed more of older cfg version 

- cfg2inf.prg: The editor string in the old config is converted to a flag 
  for the (installed) editor in the new config. So it is preserved if the 
  editor was installed.

Dj. Vukovic:

- Fixed a bug of not immediately refreshing a changed background 
  pattern/colour in text windows;

- Fixed a bug of not correctly setting and so corrupting type of desktop 
  icon in desktop icons dialog.

- Fixed some bugs which disabled printing of more than one file at a time;

- Fixed some bugs in scrolling text fields (cursor placement, padding...)

- Fixed a bug which swallowed the first char of command lines for .TTPs

- Corrected enabling/disabling of some menu items depending on context;

- Fixed two cases of not releasing allocated memory after use;

- Fixed bad redraw of animated colour icons; 

- Fixed a bug of cv_fntoform() overrunning available dialog buffer;

- Removed some overlooked fixed keyboard shortcuts from previous version;

- Adjusted length of "filetype" dialog fields vs. allocated string length 
  (dialog field was longer than permitted string length);

- Some fixes which (hopefully) will correct improper window and dialog 
  redrawing with XaAES only (V0.963).

- A lot of source code cleaned up; also removed some commented-out code 
  from previous versions;

- Some optimization of desktop.rsc and use of it; removed unnecessary 
  alerts, reused some strings, etc.

- Significant reduction of code size by reorganizing routines and data 
  structures related to text and directory windows, so that same code is 
  used for both window types;

- Integrated dialogs, routines and data structures regarding 
  filetype-selectors, so that there is only one filetype-selector dialog 
  in desktop.rsc; significant reduction in executable code size because a 
  lot of routines are made to work on all file/filetype lists.  New files: 
  lists.c and lists.h

- Reorganization of "Install Application" function, so that a dialog is 
  shown displaying a list of installed applications. Reduction in code 
  size because of modifications in several routines.

- Same concept is used for entering/editing all lists: filetype masks, 
  program types, window icon filetypes and applications. It is possible to 
  select an item from the list and manually edit it (i.e. two dialog 
  levels), or to select an item in a window and then immediately open a 
  second-level dialog to edit the entry.

- ALL dialogs now fit ST-low resolution. Some are reduced in size even 
  more for faster redraws on low-end machines

- Several small fixes and improvements in floppy formatting routines;

- Target floppy drive is locked during formatting/copying in Mint & MagiC;

- Somewhat improved handling of overscan hack (tested with Lacescan);

- Improved operation of the "fuller" gadget- fulled window is moved left 
  until it is completely on the screen;

- Improved operation of the "fuller" gadget for text window in "hex" mode- 
  window is made only as wide as needed;

- Created "pressed" 3d effects when arrows pressed in Window Optons and 
  Desk Preferences;

- Added window iconify/deiconify capability in AESses which  support it 
  (AES4.1, Geneva, Magic, XaAES...)

- Cosmetic change: added left margin to text windows;

- Added checking for duplicate entries in filemasks, program types, 
  window icons and applications lists;

- Added possibility to properly cancel changes in filemasks list;

- Added posibility to start an application or program type in 
  "no-multitasking" mode in Magic (not working very well yet);

- Added possibility to limit memory available to a program type or 
application.

- Added capability to mark an installed application as "autostart";

- Added capability of "Search" to find text in files as well;

- Added "touch" ((re)set date and/or attributes) functionality; user 
  interface implemented through additional button in the "Object info" 
  dialog. Considerable reorganisation of that dialog(s). TeraDesk is now 
  able to display DOS/Windows folder attributes though not able to change 
  them.

- While copying files it is possible to change date/time and attributes.

- Added "Compare files" functionality;  a nice knack is that it 
  resynchronizes search positions after a found difference.

- Improved "Open..." function; it now tries to figure out what type of 
  item should be opened: a program, a folder/drive, a file assigned as a 
  document to application, or an unassigned file. In case of a 
  program/application, it is possible to enter a comand tail after 
  path+name;

- Command line dialog for TTP programs remembers last command if program 
  name has not changed.

- Filename/filetype entry forms in dialogs appear in 8+3 length if there 
  is no long-filename-capable OS present (i.e. without Mint or Magic);

- Much improved appearance of dialog elements, especially in 3D AESses; 3D 
  effects are properly drawn when needed. Significant reorganization and 
  simplification of routines for progdefined objects in xddraw.c;

- [Shift[[Help] calls ST-Guide (if available) to display TERADESK.HYP;

- Cramped_name() used for nicer display of long window titles;

- Improved recognition of TOS and AES versions and their capabilities
  and limitations.

- Added capability to call a file selector in scrolled text fields;
  upon pressing the [Insert] key

- As "Print" option now exists in the menu, that option has been removed 
  from the Show/Edit/Cancel dialog and an alertbox is used instead of the 
  dialog

- Updated the .HYP documentation. 
  







